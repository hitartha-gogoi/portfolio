<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" /> 
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<style>

body{
  background-color: #28383F;
  overflow: scroll;
}

.upper-block{
  background-color: #102538;
  width: 100%;
  border-radius: 4px;
  height: auto;
  color: white;
  padding: 5px 0px 5px 0px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
}

.circle-block{
  display: flex;
  flex-direction: row;
  align-items: center;
}

.code-block{
  background-color: #102538;
  width: 100%;
  border-radius: 4px;
  height: auto;
  color: white;
  border-top: solid 1.5px black;
  transform: translateY(-2px);
  object-fit: cover;
}

.code-purple{
  color: rgb(232,121,249);
}

.code-light-green{
  color: rgb(186,230,153);
}

.code-selector{
  color: #FF6D00;
}

.code-normal{
  color: #FFF;
}

.code-dark-blue{
  color: #4D81B2;
}

.code-light-blue{
  color: #99CFEE;
}

.code-light-yellow{
  color: #C5C692;
}

.code-dark-green{
  color: #49B4A0;
}

.code-sap-green{
  color: #739867;
}

.code-light-orange{
  color: #AB7F6D;
}

.red-circle{
  height: 10px;
  width: 10px;
  border-radius: 50%;
  border: solid 2px #FF0047;
  margin: 3px 3px 3px 3px;
}

.yellow-circle{
  height: 10px;
  width: 10px;
  border-radius: 50%;
  border: solid 2px #FFF200;
  margin: 3px 3px 3px 3px;
}

.green-circle{
  height: 10px;
  width: 10px;
  border-radius: 50%;
  border: solid 2px rgb(186,230,153);
  margin: 3px 3px 3px 3px;
}

.copy-btn{
  border-radius: 4px;
  border: solid 2px black;
  color: #5C5A57;
  background: #102538;
}

.code-container{
  width: 90%;
  background-color: #102538;
  box-shadow: -16px 0 48px #000;
  margin-top: 60px;
  backdrop-filter: blur(10%)
  transition: ease-in;
}

.heading{
  font-weight: 900;
  color: white;
  text-align: center;
  box-shadow: 3px 5px 15px #102538;
  text-shadow: 5px 5px 15px #000;
  padding: 5px 0px 5px 0px;
  font-size: 30px;
}

.desc{
  text-align: center;
  color: rgb(128,128,128);
}

.main-container{
  width: 100vw;
}

.copy-btn:hover{
  transform: scale(1.2);
}

.term-block{
  background-color: black;
  width: 100%;
  border-radius: 4px;
  height: auto;
  color: white;
  border-top: solid 1.5px black;
  transform: translateY(-2px);
  object-fit: cover;
}

.code-term{
  color: #3CCC00;
}

@media only screen and (min-width: 600px){
  
  .code-container{
    width: 450px;
  }
  
  .main-container{
  height: 100vh;
  width: 100vw;
  overflow: scroll;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

}
</style>
<body>
  
  <div class="main-container">
  <p class="heading">Cheatsheet</p>
  
  <p class="desc">We know, that building a full stack app takes a lot
  <br>  of time and that's why we builded CheatMax.
   <br>A complete cheatsheet to build your app.
  <br> From CSS styling to till REST API design <br>
  Provides you a ton of codes to make your day.<br>
  You have a complete cheatsheet for <br>
  HTML, CSS, JS, React, Flask, Django, Express.
  </p>

<!-- commands -->

<div class="code-container">
<div class="upper-block">
  <div class="circle-block">
    <div class="red-circle"></div>
    <div class="yellow-circle"></div>
    <div class="green-circle"></div>
  </div>
  <div>
    <button class="copy-btn"><span class="code-dark-green">py</span></button>
  </div>
</div>
<div class="term-block">
<pre>
<span class="code-term">root@localhost#  </span><span class="code-term">python3 manage.py runserver</span>
<span class="code-term">root@localhost#  </span><span class="code-term">python3 manage.py makemigrations</span>
<span class="code-term">root@localhost#  </span><span class="code-term">python3 manage.py migrate</span>
<span class="code-term">root@localhost#  </span><span class="code-term">python3 manage.py createsuperuser</span>
<span class="code-term">root@localhost#  </span><span class="code-term">python3 manage.py shell</span>
</pre>
</div>
</div>


<!-- urls -->

<div class="code-container">
   <div class="upper-block">
   <div class="circle-block">
     <div class="red-circle"></div>
     <div class="yellow-circle"></div>
     <div class="green-circle"></div>
   </div>
   <div>
     <button class="copy-btn"><span class="code-dark-green">py</span></button>
   </div>
 </div>
<div class="code-block">
<pre>
<span class="code-purple">from </span><span class="code-dark-green">django.urls </span><span class="code-purple">import </span><span class="code-normal"> path, include</span>
<span class="code-purple">from </span><span class="code-dark-green">django.conf.urls.static </span><span class="code-purple">import </span><span class="code-normal">static</span>
<span class="code-purple">from </span><span class="code-dark-green">. </span><span class="code-purple">import </span><span class="code-normal">views</span>
<span class="code-purple">from </span><span class="code-dark-green">django.conf </span><span class="code-purple">import </span><span class="code-normal">settings</span>

urlpatterns = [
<span class="code-purple">  path</span>(<span class="code-light-yellow">""</span>, <span class="code-purple">include</span>(<span class="code-light-yellow">"app.urls"</span>)),
<span class="code-purple">  path</span>(<span class="code-light-yellow">"signup"</span>, <span class="code-dark-green">views.</span><span class="code-light-yellow">signup</span>, <span class="code-light-blue">name</span>=<span class="code-light-yellow">"Signup"</span>),
<span class="code-purple">  path</span>(<span class="code-light-yellow">"login"</span>, <span class="code-dark-green">views.</span><span class="code-light-yellow">login</span>, <span class="code-light-blue">name</span>=<span class="code-light-yellow">"Login"</span>),
<span class="code-purple">  path</span>(<span class="code-light-yellow">"logout"</span>, <span class="code-dark-green">views.</span><span class="code-light-yellow">logout</span>, <span class="code-light-blue">name</span>=<span class="code-light-yellow">"Logout"</span>),
<span class="code-purple">  path</span>(<span class="code-light-yellow">"home"</span>, <span class="code-dark-green">views.</span><span class="code-light-yellow">home</span>, <span class="code-light-blue">name</span>=<span class="code-light-yellow">"Home"</span>),
<span class="code-purple">  path</span>(<span class="code-light-yellow">"error"</span>, <span class="code-dark-green">views.</span><span class="code-light-yellow">error</span>, <span class="code-light-blue">name</span>=<span class="code-light-yellow">"Error"</span>),
<span class="code-purple">  path</span>(<span class="code-light-yellow">"settings"</span>, <span class="code-dark-green">views.</span><span class="code-light-yellow">settings</span>, <span class="code-light-blue">name</span>=<span class="code-light-yellow">"Settings"</span>),
<span class="code-purple">  path</span>(<span class="code-light-yellow">"success"</span>, <span class="code-dark-green">views.</span><span class="code-light-yellow">success</span>, <span class="code-light-blue">name</span>=<span class="code-light-yellow">"Success"</span>),
  ] + <span class="code-dark-blue">static</span>(<span class="code-light-blue">settings</span>.<span class="code-dark-green">MEDIA_URL</span>,<span class="code-light-orange">document_root</span>=<span class="code-light-blue">settings.</span><span class="code-dark-green">MEDIA_ROOT</span>)
</pre>
</div>
</div>



<!-- models -->

<div class="code-container">
   <div class="upper-block">
   <div class="circle-block">
     <div class="red-circle"></div>
     <div class="yellow-circle"></div>
     <div class="green-circle"></div>
   </div>
   <div>
     <button class="copy-btn"><span class="code-dark-green">py</span></button>
   </div>
 </div>
<div class="code-block">
<pre>
<span class="code-purple">from </span><span class="code-dark-green">django.db </span><span class="code-purple">import </span><span class="code-normal">models</span>
<span class="code-purple">from </span><span class="code-dark-green">django.utils.timezone </span><span class="code-purple">import </span><span class="code-normal">now</span>

<span class="code-dark-blue">class </span><span class="code-dark-green">MyModelForm</span><span class="code-normal">(models.Model):</span>
<span class="code-light-blue">  title</span><span class="code-light-blue"> = models</span>.<span class="code-dark-blue">CharField</span>(<span class="code-dark-green">max_length</span>=<span class="code-purple">50</span>)
<span class="code-light-blue">  desc</span><span class="code-light-blue"> = models</span>.<span class="code-dark-blue">TextField</span>(<span class="code-dark-green">max_length</span>=<span class="code-purple">200</span>)
<span class="code-light-blue">  status</span><span class="code-light-blue"> = models</span>.<span class="code-light-orange">BooleanField</span>(<span class="code-dark-green">default</span>=<span class="code-dark-blue">False</span>)
<span class="code-light-blue">  slug</span><span class="code-light-blue"> = models</span>.<span class="code-dark-blue">SlugField</span>(<span class="code-dark-green">unique</span>=<span class="code-dark-blue">True</span>)
<span class="code-light-blue">  timestamp</span><span class="code-light-blue"> = models</span>.<span class="code-dark-blue">DateTimeField</span>(<span class="code-dark-green">default</span>=<span class="code-light-blue">now</span>)
<span class="code-light-blue">  image</span><span class="code-light-blue"> = models</span>.<span class="code-dark-blue">ImageField</span>(<span class="code-dark-green">upload_to</span>=<span class="code-light-yellow">"/uploads"</span>)
<span class="code-light-blue">  user</span><span class="code-light-blue"> = models</span>.<span class="code-dark-green">ForeignKey</span>(<span class="code-dark-green">MyModel</span>,<span class="code-dark-blue">on_delete</span>=<span class="code-dark-green">models.CASCADE</span>)
<span class="code-light-blue">  many</span><span class="code-light-blue"> = models</span>.<span class="code-dark-green">ManyToManyField</span>(<span class="code-dark-green">MyModel</span>, </span><span class="code-light-blue">models.</span><span class="code-dark-greeen">CASCADE</span>)
<span class="code-light-blue">  total</span><span class="code-light-blue"> = models</span>.<span class="code-dark-blue">IntegerField</span>()
<span class="code-dark-blue">    def</span>__str__(<span class="code-light-orange">self</span>):
<span class="code-purple">      return </span><span class="code-light-yellow">"%s %s %s %s %s %s %s %s %s"</span> % 
(<span class="code-light-blue">self</span>.<span class="code-light-yellow">title</span>,<span class="code-light-blue">self</span>.<span class="code-light-yellow">desc</span>,<span class="code-light-blue">self</span>.<span class="code-light-yellow">status</span>,<span class="code-light-blue">self</span>.<span class="code-light-yellow">timestamp</span>,<span class="code-light-blue">self</span>.<span class="code-light-yellow">image</span>,<span class="code-light-blue">self</span>.<span class="code-light-yellow">user</span>,<span class="code-light-blue">self</span>.<span class="code-light-yellow">many</span>,<span class="code-light-blue">self</span>.<span class="code-light-yellow">total</span>)
</pre>
</div>
</div>


<!-- admin -->
<div class="code-container">
   <div class="upper-block">
   <div class="circle-block">
     <div class="red-circle"></div>
     <div class="yellow-circle"></div>
     <div class="green-circle"></div>
   </div>
   <div>
     <button class="copy-btn"><span class="code-dark-green">py</span></button>
   </div>
 </div>
<div class="code-block">
<pre>
<span class="code-purple">from </span><span class="code-dark-green">django.contrib </span><span class="code-purple">import </span><span class="code-normal">admin</span>
<span class="code-purple">from </span><span class="code-dark-green">.models </span><span class="code-purple">import </span><span class="code-normal">MyModel</span>

<span class="code-dark-blue">admin</span>.<span class="code-light-blue">site</span>.<span class="code-light-yellow">register</span>(<span class="code-light-blue">MyModel</span>)
</pre>
</div>
</div>

<!-- settings.py -->

<div class="code-container">
   <div class="upper-block">
   <div class="circle-block">
     <div class="red-circle"></div>
     <div class="yellow-circle"></div>
     <div class="green-circle"></div>
   </div>
   <div>
     <button class="copy-btn"><span class="code-dark-green">py</span></button>
   </div>
 </div>
<div class="code-block">
<pre>
<span class="code-sap-green"># environment variables</span>

<span class="code-light-blue">MEDIA_ROOT</span> = <span class="code-dark-blue">BASE_DIR </span>/ <span class="code-light-yellow">"uploads"</span>
<span class="code-light-blue">MEDIA_URL</span> = <span class="code-light-yellow">"/files/"</span>
<span class="code-dark-green">EMAIL_BACKEND</span> = <span class="code-light-orange">"django.core.mail.backends.smtp.EmailBackend"</span>
<span class="code-dark-green">EMAIL_HOST</span> = <span class="code-light-orange">'smtp.gmail.com'</span>
<span class="code-dark-green">EMAIL_HOST_USER</span> = <span class="code-light-orange">""</span>
<span class="code-dark-green">EMAIL_HOST_PASSWORD</span> = <span class="code-light-orange">""</span>
<span class="code-dark-green">EMAIL_PORT</span> = <span class="code-light-orange">587</span>
<span class="code-dark-green">EMAIL_USE_TLS</span> = <span class="code-light-orange">True</span>
<span class="code-light-blue">STRIPE_SECRET_KEY</span> = <span class="code-light-yellow">""</span>
<span class="code-light-blue">STRIPE_PUBLIC_KEY</span> = <span class="code-light-yellow">""</span>

</pre>
</div>
</div>


<!-- templates -->

<div class="code-container">
   <div class="upper-block">
   <div class="circle-block">
     <div class="red-circle"></div>
     <div class="yellow-circle"></div>
     <div class="green-circle"></div>
   </div>
   <div>
     <button class="copy-btn"><span class="code-dark-green">py</span></button>
   </div>
 </div>
<div class="code-block">
<pre>
{% <span class="code-light-orange">load</span> <span class="code-light-blue">static</span> %}

<span class="code-dark-blue"><</span><span class="code-dark-blue">html</span><span class="code-dark-blue">></span>
<span class="code-dark-blue"><</span><span class="code-dark-blue">head</span><span class="code-dark-blue">></span>
<span class="code-dark-blue"><</span><span class="code-dark-blue">title</span><span class="code-dark-blue">></span><code class="code-dark-blue"><</code><code class="code-dark-blue">/</code><span class="code-dark-blue">title</span><span class="code-dark-blue">></span>
<span class="code-dark-blue"><</span><span class="code-dark-blue">link</span> <span class="code-light-blue">rel</span>=<span class="code-light-orange">"stylesheet"</span> <span class="code-light-blue">href</span>=<span class="code-light-yellow">"</span>{%<span class="code-light-blue"> static </span><span class="code-light-orange">'style.css'</span> %}<span class="code-light-yellow">"</span><span class="code-dark-blue">></span>
<code class="code-dark-blue"><</code><code class="code-dark-blue">/</code><span class="code-dark-blue">head</span><span class="code-dark-blue">></span>
<span class="code-dark-blue"><</span><span class="code-dark-blue">body</span><span class="code-dark-blue">></span>

<span class="code-dark-blue"><</span><span class="code-dark-blue">form</span> <span class="code-light-blue">action</span>=<span class="code-light-yellow">"</span>{% url<span class="code-light-orange"> 'Route' </span><span class="code-light-blue">id</span> %}<span class="code-light-yellow">"</span> <span class="code-light-blue">method</span>=<span class="code-light-orange">"POST"</span><span class="code-dark-blue">></span>
{% csrf_token %}
<span class="code-dark-blue"><</span><span class="code-dark-blue">input</span> <span class="code-light-blue">type</span>=<span class="code-light-orange">"text"</span> <span class="code-light-blue">placeholder</span>=<span class="code-light-orange">"username"</span> <span class="code-light-blue">name</span>=<span class="code-light-orange">"username"</span> <code class="code-dark-blue">/</code><span class="code-dark-blue">></span>
<code class="code-dark-blue"><</code><code class="code-dark-blue">/</code><span class="code-dark-blue">form</span><span class="code-dark-blue">></span>

{% <span class="code-purple">for</span><span class="code-light-blue"> product</span><span class="code-light-orange"> in </span><span class="code-light-yellow">products</span> %}
<span class="code-dark-blue"><</span><span class="code-dark-blue">span</span><span class="code-dark-blue">></span>{<span class="code-light-blue">product</span>.<span class="code-light-orange">name</span>}<code class="code-dark-blue"><</code><code class="code-dark-blue">/</code><span class="code-dark-blue">span</span><span class="code-dark-blue">></span>
{% end for %}

<code class="code-dark-blue"><</code><code class="code-dark-blue">/</code><span class="code-dark-blue">body</span><span class="code-dark-blue">></span>
<code class="code-dark-blue"><</code><code class="code-dark-blue">/</code><span class="code-dark-blue">html</span><span class="code-dark-blue">></span>

</pre>
</div>
</div>


<!-- views.py, imports of necessary modules route -->


<div class="code-container">
   <div class="upper-block">
   <div class="circle-block">
     <div class="red-circle"></div>
     <div class="yellow-circle"></div>
     <div class="green-circle"></div>
   </div>
   <div>
     <button class="copy-btn"><span class="code-dark-green">views.py</span></button>
   </div>
 </div>
<div class="code-block">
<pre>
<span class="code-sap-green"># import all necessary modules</span>

<span class="code-purple">from </span><span class="code-dark-green">django.http </span><span class="code-purple">import </span><span class="code-normal">HttpResponse, JsonResponse</span>
<span class="code-purple">from </span><span class="code-dark-green">django.shortcuts </span><span class="code-purple">import </span><span class="code-normal">render, redirect, get_object_or_404</span>
<span class="code-purple">from </span><span class="code-dark-green">django.contrib.auth.models </span><span class="code-purple">import </span><span class="code-normal">User</span>
<span class="code-purple">from </span><span class="code-dark-green">django.contrib </span><span class="code-purple">import </span><span class="code-normal">auth, messages</span>
<span class="code-purple">from </span><span class="code-dark-green">django.core.mail </span><span class="code-purple">import </span><span class="code-normal">send_mail</span>
<span class="code-purple">from </span><span class="code-dark-green">django.conf </span><span class="code-purple">import </span><span class="code-normal">settings</span>
<span class="code-purple">from </span><span class="code-dark-green">.models </span><span class="code-purple">import </span><span class="code-normal">MyModel</span>
<span class="code-purple">from </span><span class="code-dark-green">.forms </span><span class="code-purple">import </span><span class="code-normal">MyForm</span>
<span class="code-purple">import </span><span class="code-normal">datetime</span>
<span class="code-purple">import </span><span class="code-normal">jwt</span>
</pre>
</div>
</div>

<!-- fetch objects -->

<div class="code-container">
   <div class="upper-block">
   <div class="circle-block">
     <div class="red-circle"></div>
     <div class="yellow-circle"></div>
     <div class="green-circle"></div>
   </div>
   <div>
     <button class="copy-btn"><span class="code-dark-green">py</span></button>
   </div>
 </div>
<div class="code-block">
<pre>
<span class="code-dark-blue">def </span><span class="code-dark-green">products</span><span class="code-normal">(req):</span>
<span class="code-purple">  if</span><span class="code-purple"> not </span><span class="code-light-blue">req.</span><span class="code-light-yellow">is_authenticated:</span>
<span class="code-purple">    return</span><span class="code-light-blue"> redirect</span><span class="code-normal">(</span><span class="code-light-yellow">"Login"</span><span class="code-normal">)</span>
<span class="code-purple">  elif</span><span class="code-light-blue"> req.</span><span class="code-light-orange">method</span><span class="code-normal"> == </span><span class="code-light-yellow">"GET":</span>
<span class="code-light-blue">    products</span> = <span class="code-dark-blue">Product</span>.<span class="code-dark-green">objects</span>.<span class="code-light-yellow">all</span>()
<span class="code-purple">    return</span><span class="code-dark-blue"> render</span>(req,<span class="code-light-yellow">"index.html"</span>, {<span class="code-light-blue">product: product</span>})

</pre>
</div>
</div>


<!-- Signup route django -->


<div class="code-container">
   <div class="upper-block">
   <div class="circle-block">
     <div class="red-circle"></div>
     <div class="yellow-circle"></div>
     <div class="green-circle"></div>
   </div>
   <div>
     <button class="copy-btn"><span class="code-dark-green">py</span></button>
   </div>
 </div>
<div class="code-block">
<pre>
<span class="code-sap-green"># saving user with django auth models </span>

<span class="code-dark-blue">def </span><span class="code-dark-green">signup</span><span class="code-normal">(req):</span>
<span class="code-purple">  if</span><span class="code-light-blue"> req.</span><span class="code-light-orange">method</span><span class="code-normal"> == </span><span class="code-light-yellow">"POST"</span><span class="code-normal">:</span>
<span class="code-light-blue">    username</span><span class="code-normal"> = </span><span class="code-light-blue">req.</span><span class="code-light-yellow">POST</span><span class="code-normal">[</span><span class="code-light-yellow">"username"</span><span class="code-normal">]</span>
<span class="code-light-blue">    password</span><span class="code-normal"> = </span><span class="code-light-blue">req.</span><span class="code-light-yellow">POST</span><span class="code-normal">[</span><span class="code-light-yellow">"password"</span><span class="code-normal">]</span>
<span class="code-light-blue">    email</span><span class="code-normal"> = </span><span class="code-light-blue">req.</span><span class="code-light-yellow">POST</span><span class="code-normal">[</span><span class="code-light-yellow">"email"</span><span class="code-normal">]</span>

<span class="code-purple">    if</span><span class="code-light-blue"> User.</span><span class="code-dark-green">objects.</span><span class="code-light-yellow">filter</span><span class="code-normal">(</span><span class="code-light-blue">email=email</span><span class="code-normal">).</span><span class="code-dark-green">exists</span><span class="code-normal">():</span>
<span class="code-purple">      return</span><span class="code-light-blue"> redirect</span><span class="code-normal">(</span><span class="code-light-yellow">"Signup"</span><span class="code-normal">)</span>
<span class="code-purple">    else:</span>
<span class="code-light-blue">      user</span><span class="code-normal"> = </span><span class="code-light-blue">User.</span><span class="code-dark-green">objects.</span><span class="code-light-yellow">create_user</span><span class="code-normal">(</span><span class="code-light-blue">username</span><span class="code-normal">=</span><span class="code-light-blue">username,</span><span class="code-light-blue">password</span><span class="code-normal">=</span><span class="code-light-blue">password,</span><span class="code-light-blue">email</span><span class="code-normal">=</span><span class="code-light-blue">email</span><span class="code-normal">)</span>
<span class="code-light-blue">      user.</span><span class="code-light-yellow">save</span><span class="code-normal">()</span>
<span class="code-purple">      return</span><span class="code-light-blue"> redirect</span><span class="code-normal">(</span><span class="code-light-yellow">"Login"</span><span class="code-normal">)</span>
</pre>
</div>
</div>




<!-- Login route django -->


<div class="code-container">
   <div class="upper-block">
   <div class="circle-block">
     <div class="red-circle"></div>
     <div class="yellow-circle"></div>
     <div class="green-circle"></div>
   </div>
   <div>
     <button class="copy-btn"><span class="code-dark-green">py</span></button>
   </div>
 </div>
<div class="code-block">
<pre>
<span class="code-sap-green"># session based user login</span>

<span class="code-dark-blue">def </span><span class="code-dark-green">login</span><span class="code-normal">(req):</span>
<span class="code-purple">  if</span><span class="code-light-blue"> req.</span><span class="code-light-orange">method</span><span class="code-normal"> == </span><span class="code-light-yellow">"POST"</span><span class="code-normal">:</span>
<span class="code-light-blue">    username</span><span class="code-normal"> = </span><span class="code-light-blue">req.</span><span class="code-light-yellow">POST</span><span class="code-normal">[</span><span class="code-light-yellow">"username"</span><span class="code-normal">]</span>
<span class="code-light-blue">    email</span><span class="code-normal"> = </span><span class="code-light-blue">req.</span><span class="code-light-yellow">POST</span><span class="code-normal">[</span><span class="code-light-yellow">"email"</span><span class="code-normal">]</span>
<span class="code-light-blue">    password</span><span class="code-normal"> = </span><span class="code-light-blue">req.</span><span class="code-light-yellow">POST</span><span class="code-normal">[</span><span class="code-light-yellow">"password"</span><span class="code-normal">]</span>
<span class="code-light-blue">    user</span><span class="code-normal"> = </span><span class="code-light-blue">auth.</span><span class="code-light-yellow">authenticate</span><span class="code-normal">(</span><span class="code-light-blue">password</span><span class="code-normal">=</span><span class="code-light-blue">password,username</span><span class="code-normal">=</span><span class="code-light-blue">username,email</span><span class="code-normal">=</span><span class="code-light-blue">email</span><span class="code-normal">)</span>
<span class="code-purple">    if</span><span class="code-light-blue"> user </span><span class="code-normal">is</span><span class="code-purple"> not </span><span class="code-dark-green">None:</span>
<span class="code-light-blue">      auth.</span><span class="code-light-orange">login</span><span class="code-normal">(</span><span class="code-light-blue">request</span><span class="code-normal">, user)</span>
<span class="code-purple">      return</span><span class="code-light-blue"> redirect</span><span class="code-normal">(</span><span class="code-light-yellow">"Home"</span><span class="code-normal">)</span>
<span class="code-purple">    else:</span>
<span class="code-purple">      return</span><span class="code-light-blue"> redirect</span><span class="code-normal">(</span><span class="code-light-yellow">"Error"</span><span class="code-normal">)</span>
</pre>
</div>
</div>



<!-- logout django route -->


<div class="code-container">
   <div class="upper-block">
   <div class="circle-block">
     <div class="red-circle"></div>
     <div class="yellow-circle"></div>
     <div class="green-circle"></div>
   </div>
   <div>
     <button class="copy-btn"><span class="code-dark-green">py</span></button>
   </div>
 </div>
<div class="code-block">
<pre>
<span class="code-sap-green"># session based user login</span>

<span class="code-dark-blue">def </span><span class="code-dark-green">logout</span><span class="code-normal">(req):</span>
<span class="code-purple">  if</span><span class="code-purple"> not </span><span class="code-light-blue">req.</span><span class="code-light-yellow">is_authenticated:</span>
<span class="code-purple">    return</span><span class="code-light-blue"> redirect</span><span class="code-normal">(</span><span class="code-light-yellow">"Login"</span><span class="code-normal">)</span>
<span class="code-purple">  elif</span><span class="code-light-blue"> req.</span><span class="code-light-orange">method</span><span class="code-normal"> == </span><span class="code-light-yellow">"POST":</span>
<span class="code-light-blue">    auth.</span><span class="code-light-orange">logout</span><span class="code-normal">(req)</span>
<span class="code-purple">    return</span><span class="code-light-blue"> redirect(</span><span class="code-light-yellow">"Login"</span><span class="code-normal">)</span>
</pre>
</div>
</div>


<!-- create object using form -->


<div class="code-container">
   <div class="upper-block">
   <div class="circle-block">
     <div class="red-circle"></div>
     <div class="yellow-circle"></div>
     <div class="green-circle"></div>
   </div>
   <div>
     <button class="copy-btn"><span class="code-dark-green">py</span></button>
   </div>
 </div>
<div class="code-block">
<pre>
<span class="code-sap-green"># save an object with form with a file </span>

<span class="code-dark-blue">def </span><span class="code-dark-green">create</span><span class="code-normal">(req):</span>
<span class="code-purple">  if</span><span class="code-purple"> not </span><span class="code-light-blue">req.</span><span class="code-light-yellow">is_authenticated:</span>
<span class="code-purple">    return</span><span class="code-light-blue"> redirect</span><span class="code-normal">(</span><span class="code-light-yellow">"Login"</span><span class="code-normal">)</span>
<span class="code-purple">  elif</span><span class="code-light-blue"> req.</span><span class="code-light-orange">method</span><span class="code-normal"> == </span><span class="code-light-yellow">"POST":</span>
<span class="code-light-blue">    form</span><span class="code-normal"> = </span><span class="code-dark-green">MyForm</span><span class="code-normal">(</span><span class="code-light-blue">req.</span><span class="code-light-yellow">POST,</span><span class="code-light-blue">req.</span><span class="code-dark-green">FILES</span><span class="code-normal">)</span>
<span class="code-purple">    if</span><span class="code-light-blue"> form</span><span class="code-normal">.is_valid():</span>
<span class="code-light-blue">      product</span><span class="code-normal"> = </span><span class="code-light-blue">form</span><span class="code-light-yellow">.save</span><span class="code-normal">(</span><span class="code-light-blue">commit</span><span class="code-normal">=</span><span class="code-dark-blue">False</span><span class="code-normal">)</span>
<span class="code-light-blue">      product.</span><span class="code-light-orange">user</span><span class="code-normal"> = </span><span class="code-light-blue">req.</span><span class="code-normal">user</span>
<span class="code-light-blue">      product.</span><span class="code-light-yellow">save</span><span class="code-normal">()</span>
<span class="code-purple">    else:</span>
<span class="code-purple">      return</span><span class="code-light-blue"> redirect</span><span class="code-normal">(</span><span class="code-light-yellow">"Home"</span><span class="code-normal">)</span>
</pre>
</div>
</div>



<!-- edit object route -->

<div class="code-container">
   <div class="upper-block">
   <div class="circle-block">
     <div class="red-circle"></div>
     <div class="yellow-circle"></div>
     <div class="green-circle"></div>
   </div>
   <div>
     <button class="copy-btn"><span class="code-dark-green">py</span></button>
   </div>
 </div>
<div class="code-block">
<pre>
<span class="code-sap-green"># edit model with django's filter and update function</span>

<span class="code-dark-blue">def </span><span class="code-dark-green">edit_model</span><span class="code-normal">(req,id):</span>
<span class="code-purple">  if</span><span class="code-purple"> not </span><span class="code-light-blue">req.</span><span class="code-light-yellow">is_authenticated:</span>
<span class="code-purple">    return</span><span class="code-light-blue"> redirect</span><span class="code-normal">(</span><span class="code-light-yellow">"Login"</span><span class="code-normal">)</span>
<span class="code-purple">  elif</span><span class="code-light-blue"> req.</span><span class="code-light-orange">method</span><span class="code-normal"> == </span><span class="code-light-yellow">"POST":</span>
<span class="code-light-blue">    title</span><span class="code-normal"> = </span><span class="code-light-blue">req.</span><span class="code-light-yellow">POST</span><span class="code-normal">[</span><span class="code-light-yellow">"title"</span><span class="code-normal">]</span>
<span class="code-dark-blue">    MyModel.</span><span class="code-dark-green">objects.</span><span class="code-light-blue">filter</span><span class="code-normal">(</span><span class="code-dark-blue">pk</span><span class="code-normal">=</span><span class="code-light-blue">id</span><span class="code-normal">)</span>.<span class="code-dark-blue">update</span><span class="code-normal">(</span><span class="code-light-blue">title</span><span class="code-normal">=</span><span class="code-light-blue">title</span><span class="code-normal">)</span>
<span class="code-purple">    return</span><span class="code-light-blue"> redirect</span><span class="code-normal">(</span><span class="code-light-yellow">"Home"</span><span class="code-normal">)</span>
</pre>
</div>
</div>

<!-- delete object route -->


<div class="code-container">
   <div class="upper-block">
   <div class="circle-block">
     <div class="red-circle"></div>
     <div class="yellow-circle"></div>
     <div class="green-circle"></div>
   </div>
   <div>
     <button class="copy-btn"><span class="code-dark-green">py</span></button>
   </div>
 </div>
<div class="code-block">
<pre>
<span class="code-sap-green"># delete an object </span>

<span class="code-dark-blue">def </span><span class="code-dark-green">delete_model</span><span class="code-normal">(req,id):</span>
<span class="code-purple">  if</span><span class="code-purple"> not </span><span class="code-light-blue">req.</span><span class="code-light-yellow">is_authenticated:</span>
<span class="code-purple">    return</span><span class="code-light-blue"> redirect</span><span class="code-normal">(</span><span class="code-light-yellow">"Login"</span><span class="code-normal">)</span>
<span class="code-purple">  elif</span><span class="code-light-blue"> req.</span><span class="code-light-orange">method</span><span class="code-normal"> == </span><span class="code-light-yellow">"POST":</span>
<span class="code-light-blue">    object</span><span class="code-normal"> = </span><span class="code-light-orange">get_object_or_404</span><span class="code-normal">(</span><span class="code-dark-blue">MyModel</span>,<span class="code-dark-blue">pk</span><span class="code-normal">=</span><span class="code-light-blue">id</span><span class="code-normal">)</span>
<span class="code-light-blue">    object</span>.<span class="code-dark-blue">delete</span>()
<span class="code-purple">    return</span><span class="code-light-blue"> redirect</span>(<span class="code-light-yellow">"Home"</span>)
</pre>
</div>
</div>


<!-- django forms -->

<div class="code-container">
   <div class="upper-block">
   <div class="circle-block">
     <div class="red-circle"></div>
     <div class="yellow-circle"></div>
     <div class="green-circle"></div>
   </div>
   <div>
     <button class="copy-btn"><span class="code-dark-green">py</span></button>
   </div>
 </div>
<div class="code-block">
<pre>
<span class="code-sap-green"># django forms </span>

<span class="code-purple">from </span><span class="code-dark-greem">django.forms </span><span class="code-purple">import </span><span class="code-normal">ModelForm</span>
<span class="code-purple">from </span><span class="code-dark-greem">.models </span><span class="code-purple">import </span><span class="code-normal">MyModel</span>

<span class="code-dark-blue">class </span><span class="code-dark-green">MyModelForm</span><span class="code-normal">(ModelForm):</span>
<span class="code-purple">  class</span><span class="code-normal"> Meta:</span>
<span class="code-light-blue">    model</span><span class="code-normal"> = MyModel</span>
<span class="code-light-blue">    fields</span><span class="code-normal"> = </span>[<span class="code-light-yellow">"__all__"</span>]
</pre>
</div>
</div>



<!-- save objects with foreign key -->


<div class="code-container">
   <div class="upper-block">
   <div class="circle-block">
     <div class="red-circle"></div>
     <div class="yellow-circle"></div>
     <div class="green-circle"></div>
   </div>
   <div>
     <button class="copy-btn"><span class="code-dark-green">py</span></button>
   </div>
 </div>
<div class="code-block">
<pre>
<span class="code-dark-blue">def </span><span class="code-dark-green">relation</span><span class="code-normal">(req,id):</span>
<span class="code-purple">  if</span><span class="code-purple"> not </span><span class="code-light-blue">req.</span><span class="code-light-yellow">is_authenticated:</span>
<span class="code-purple">    return</span><span class="code-light-blue"> redirect</span><span class="code-normal">(</span><span class="code-light-yellow">"Login"</span><span class="code-normal">)</span>
<span class="code-purple">  elif</span><span class="code-light-blue"> req.</span><span class="code-light-orange">method</span><span class="code-normal"> == </span><span class="code-light-yellow">"POST":</span>
<span class="code-light-blue">    item</span><span class="code-normal"> = </span><span class="code-light-orange">get_object_or_404</span><span class="code-normal">(</span><span class="code-dark-blue">item</span>,<span class="code-dark-blue">pk</span><span class="code-normal">=</span><span class="code-light-blue">id</span><span class="code-normal">)</span>
<span class="code-light-blue">    product</span> = <span class="code-light-blue">item.</span><span class="code-dark-blue">objects</span>.<span class="code-light-blue">create</span>(<span class="code-light-blue">item</span>=<span class="code-light-blue">item</span>)
<span class="code-light-blue">    product</span><span class="code-light-yellow">.save</span>()

<span class="code-dark-blue">    other_model</span>.<span class="code-dark-green">many</span>.<span class="code-light-yellow">add</span>(<span class="code-light-blue">product</span>)
</pre>
</div>
</div>


<!-- stripe payment -->

<div class="code-container">
   <div class="upper-block">
   <div class="circle-block">
     <div class="red-circle"></div>
     <div class="yellow-circle"></div>
     <div class="green-circle"></div>
   </div>
   <div>
     <button class="copy-btn"><span class="code-dark-green">py</span></button>
   </div>
 </div>
<div class="code-block">
<pre>
<span class="code-sap-green"># make sure you import stripe and configure keys</span>

<span class="code-dark-blue">def </span><span class="code-dark-green">payment</span><span class="code-normal">(req):</span>
<span class="code-purple">  if</span><span class="code-purple"> not </span><span class="code-light-blue">req.</span><span class="code-light-yellow">is_authenticated:</span>
<span class="code-purple">    return</span><span class="code-light-blue"> redirect</span><span class="code-normal">(</span><span class="code-light-yellow">"Login"</span><span class="code-normal">)</span>
<span class="code-purple">  elif</span><span class="code-light-blue"> req.</span><span class="code-light-orange">method</span><span class="code-normal"> == </span><span class="code-light-yellow">"POST":</span>
<span class="code-light-blue">    session</span><span class="code-normal"> = </span><span class="code-dark-blue">stripe</span>.<span class="code-dark-green">checkout</span>.<span class="code-light-yellow">Session</span>.<span class="code-light-blue">create</span>(
<span class="code-light-blue">    payment_method_types</span>=[<span class="code-light-yellow">"card"</span>],
<span class="code-light-blue">              line-items</span>=[{
<span class="code-light-orange">     "price_data"</span>:{ <span class="code-light-yellow">"currency"</span>: <span class="code-light-orange">"inr"</span>,
<span class="code-light-orange">     "product_data"</span>:{ <span class="code-light-yellow">"name"</span>: <span class="code-light-orange">"T shirt"</span>},
<span class="code-light-orange">     "unit_amount"</span>: <span class="code-light-orange">1000</span>},
}]
<span class="code-light-blue">      mode</span>=<span class="code-light-yellow">"payment"</span>
<span class="code-light-blue">       success_url</span>=<span class="code-light-yellow">"http://localhost:8000/success?session_id={CHECKOUT_SESSION_ID}"</span>
<span class="code-light-blue">        cancel_url</span>=<span class="code-light-yellow">"http://localhost:8000/error"</span>)
<span class="code-purple">    return</span><span class="code-light-blue"> redirect</span>(<span class="code-light-blue">session.url</span>, code=303)
</pre>
</div>
</div>


<!-- retrieve a payment -->


<div class="code-container">
   <div class="upper-block">
   <div class="circle-block">
     <div class="red-circle"></div>
     <div class="yellow-circle"></div>
     <div class="green-circle"></div>
   </div>
   <div>
     <button class="copy-btn"><span class="code-dark-green">py</span></button>
   </div>
 </div>
<div class="code-block">
<pre>
<span class="code-sap-green"># retrieve a payment</span>

<span class="code-dark-blue">def </span><span class="code-dark-green">success</span><span class="code-normal">(req):</span>
<span class="code-purple">  if</span><span class="code-purple"> not </span><span class="code-light-blue">req.</span><span class="code-light-yellow">is_authenticated:</span>
<span class="code-purple">    return</span><span class="code-light-blue"> redirect</span><span class="code-normal">(</span><span class="code-light-yellow">"Login"</span><span class="code-normal">)</span>
<span class="code-purple">  elif</span><span class="code-light-blue"> req.</span><span class="code-light-orange">method</span><span class="code-normal"> == </span><span class="code-light-yellow">"GET":</span>
<span class="code-light-blue">    session_id</span><span class="code-normal"> = </span><span class="code-light-blue">req</span>.<span class="code-dark-green">GET</span>.<span class="code-light-yellow">get</span>(<span class="code-light-yellow">"session_id"</span>)
<span class="code-light-blue">    session</span><span class="code-normal"> = </span><span class="code-dark-blue">stripe</span>.<span class="code-dark-green">checkout</span>.<span class="code-light-yellow">Session</span>.<span class="code-light-blue">retrieve</span>(<span class="code-light-blue">session_id</span>)
<span class="code-light-blue">    payment_intent_id</span> = <span class="code-light-blue">session</span>[<span class="code-light-yellow">"payment_intent"</span>]
<span class="code-purple">    return</span><span class="code-dark-blue"> render</span>(<span class="code-light-blue">req</span>,<span class="code-light-yellow">"success.html"</span>)
</pre>
</div>
</div>


<!-- mail -->

<div class="code-container">
   <div class="upper-block">
   <div class="circle-block">
     <div class="red-circle"></div>
     <div class="yellow-circle"></div>
     <div class="green-circle"></div>
   </div>
   <div>
     <button class="copy-btn"><span class="code-dark-green">py</span></button>
   </div>
 </div>
<div class="code-block">
<pre>
<span class="code-sap-green"># send mail</span>

<span class="code-light-blue">subject</span> = <span class="code-light-yellow">""</span>
<span class="code-light-blue">message</span> = <span class="code-light-yellow">""</span>
<span class="code-light-blue">from</span> = <span class="code-light-yellow">""</span>
<span class="code-light-blue">to</span> = [<span class="code-light-yellow">""</span>]

<span class="code-purple">send_mail</span>(<span class="code-light-blue">subject,message,from,to,fail_silently</span> = <span class="code-dark-blue">False</span>)
</pre>
</div>
</div>




<div class="code-container">
<div class="upper-block">
  <div class="circle-block">
    <div class="red-circle"></div>
    <div class="yellow-circle"></div>
    <div class="green-circle"></div>
  </div>
  <div>
    <button class="copy-btn"><span class="code-dark-green">py</span></button>
  </div>
</div>
<div class="code-block">
  <pre>
<span class="code-dark-blue">def </span><span class="code-dark-green">logout</span><span class="code-normal">(req):</span>
<span class="code-purple">    if</span><span class="code-purple"> not </span><span class="code-light-blue">req.</span><span class="code-light-yellow">is_authenticated:</span>
<span class="code-purple">        return</span><span class="code-light-blue"> redirect</span><span class="code-normal">(</span><span class="code-light-yellow">"Login"</span><span class="code-normal">)</span>
<span class="code-purple">    elif</span><span class="code-light-blue"> req.</span><span class="code-light-orange">method</span><span class="code-normal"> == </span><span class="code-light-yellow">"POST":</span>
</pre>
</div>
</div>





</div>
<!-- end -->

<script>

</script>
</body>